<%- include('./sidebar.ejs')  -%> 

    <main class="mt-5 pt-3 ">
      <div class="container-fluid">
          <div class="row">
            <div class="card">
              <div class="card-header bg-dark">
                <h3 class="text-uppercase text-center text-white mt-4">sound control</h3>
              </div>

              <div class="card-body">
                <div class="table-responsive">
                  <table id="table-room-id" class="table" style="width: 100%">
                    <thead>                     
                      <tr>
                        <th class="text-center">NUMBER</th>
                        <th class="text-center">ROOM NUMBER</th>
                        <th class="text-center">ROOM NAME</th>
                        <th class="text-center">FLOOR</th>
                        <th class="text-center">STATUS</th>
                        <th class="text-center">ACTION</th>
                        <th class="text-center">OPERACTION</th>
                      </tr>
                    </thead>
                    <tbody>
                      
                      <tr>
                        <td class="text-center">1</td>
                        <td class="text-center">C21</td>
                        <td class="text-center">LAB 1</td>
                        <td class="text-center">1</td>
                        <td class="text-center"><span class="btn btn-success">Active</span></td>
                        <td class="text-center">
                          <div class="container">
                            <input id="switch-trigger" type="checkbox" data-toggle="switchbutton" checked data-onlabel="Play" data-offlabel="Puase" data-onstyle="primary" data-offstyle="secondary">                                                  
                          </div>                                                
                        </td>
                        <td class="text-center">
                          <button type="submit" name="edit" data-bs-toggle="modal" data-bs-target="#edit-modal" class="btn btn-primary"><i class="fa fa-edit"></i>Edit</button>
                          <button type="submit" name="delete" data-bs-toggle="modal" data-bs-target="#delete-modal" class="btn btn-danger"><i class="fa fa-trash"></i>Delete</button>
                        </td>    
                      </tr>
                      
                      <tr>
                        <td class="text-center">2</td>
                        <td class="text-center">C22</td>
                        <td class="text-center">LAB 2</td>
                        <td class="text-center">2</td>
                        <td class="text-center"><span class="btn btn-warning">Inactive</span></td>
                        <td class="text-center">
                          <div class="container">
                            <input id="switch-trigger" type="checkbox" data-toggle="switchbutton" checked data-onlabel="Play" data-offlabel="Puase" data-onstyle="primary" data-offstyle="secondary">                                                    
                          </div>  
                        <td class="text-center">
                            <button type="submit" name="edit" class="btn btn-primary"><i class="fa fa-edit"></i>Edit</button>
                            <button type="submit" name="delete" class="btn btn-danger"><i class="fa fa-trash"></i>Delete</button>
                        </td>  
                        </td>
                      </tr> 
                      
                      <tr>
                        <td class="text-center">3</td>
                        <td class="text-center">C23</td>
                        <td class="text-center">LAB 3</td>
                        <td class="text-center">3</td>
                        <td class="text-center"><span class="btn btn-success">Active</span></td>
                        <td class="text-center">
                          <div class=" container">
                            <input id="switch-trigger" type="checkbox" data-toggle="switchbutton" checked data-onlabel="Play" data-offlabel="Puase" data-onstyle="primary" data-offstyle="secondary">                                                  
                          </div>
                        <td class="text-center">
                            <button type="submit" name="edit" class="btn btn-primary"><i class="fa fa-edit"></i>Edit</button>
                            <button type="submit" name="delete" class="btn btn-danger"><i class="fa fa-trash"></i>Delete</button>
                        </td>                                                  
                        </td>
                      </tr> 
                      
                      <tr>
                        <td class="text-center">4</td>
                        <td class="text-center">C24</td>
                        <td class="text-center">LAB 4</td>
                        <td class="text-center">4</td>
                        <td class="text-center"><span class="btn btn-danger">Expired</span></td>
                        <td class="text-center">
                          <div class="container">
                            <input id="switch-trigger" type="checkbox" data-toggle="switchbutton" checked data-onlabel="Play" data-offlabel="Puase" data-onstyle="primary" data-offstyle="secondary">                                                     
                          </div>
                        <td class="text-center">
                            <button type="submit" name="edit" class="btn btn-primary"><i class="fa fa-edit"></i>Edit</button>
                            <button type="submit" name="delete" class="btn btn-danger"><i class="fa fa-trash"></i>Delete</button>
                        </td>                        
                      </td>
                      </tr> 

                      <tr>
                        <td class="text-center">5</td>
                        <td class="text-center">C25</td>
                        <td class="text-center">LAB 5</td>
                        <td class="text-center">5</td>
                        <td class="text-center"><span class="btn btn-danger">Expired</span></td>
                        <td class="text-center">
                          <div class="container">
                            <input id="switch-trigger" type="checkbox" data-toggle="switchbutton" checked data-onlabel="Play" data-offlabel="Puase" data-onstyle="primary" data-offstyle="secondary">                                           
                          </div>
                        <td class="text-center">
                            <button type="submit" name="edit" class="btn btn-primary"><i class="fa fa-edit"></i>Edit</button>
                            <button type="submit" name="delete" class="btn btn-danger"><i class="fa fa-trash"></i>Delete</button>
                        </td>                       
                        </td>
                      </tr>

                      <div class="text-end">
                       <button class=" btn btn-success" onclick="clickApiOn()">All Play</button>
                       <button class=" btn btn-danger" onclick="clickApiOff()">All Puase</button>
                       <button type="submit" data-bs-toggle="modal" data-bs-target="#add-modal" class="btn btn-primary"><i class="bi bi-plus-square"></i>ADD</button> 
                      </div>
                    </tbody> 
                  </table>
                </div>
              </div>
            </div>
          </div>
      </div>

      <!-- Modal ADD Button -->
      <div class="modal fade" id="add-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Add Room</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form class="needs-validation" novalidate>
              <div class="modal-body">
                <div class="form">
                  <div class="row">
                    <div class="col-md-12 mb-3">
                      <label for="room-name" class="form-label"> Room Name </label>
                      <input type="text" class="form-control" id="input-roomname" required >
                      <div class="invalid-feedback">
                        Please Enter Room Name.
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6 mb-3">
                      <label for="room-number" class="form-label"> Room Number </label>
                      <input type="text" class="form-control" id="input-roomnumber" required>
                      <div class="invalid-feedback">
                        Please Enter Room Number.
                      </div>
                    </div>
                    <div class="col-md-6 mb-3">
                      <label for="room-name" class="form-label"> Floor </label>
                      <select class="form-select" style="margin-top: 7px;margin-bottom: 7px;padding-top: 9px;padding-bottom: 9px;" id="input-floor" required>
                        <option selected disabled value="">Select Floor...</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                      </select>
                      <div class="invalid-feedback">
                        Please select a floor.
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-12 mb-3">
                      <label for="room-macaddress" class="form-label"> Mac Address </label>
                      <input type="text" class="form-control" id="input-macaddress" required>
                      <div class="invalid-feedback">
                        Please Enter Mac Address.
                      </div>
                    </div>
                  </div>
                </div>
              </div>  
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit-addroom" class="btn btn-primary">Submit</button>
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Modal Edit Button -->
      <div class="modal fade" id="edit-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Add Room</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form class="needs-validation" novalidate>
              <div class="modal-body">
                <div class="form">
                  <div class="row">
                    <div class="col-md-12 mb-3">
                      <label for="room-name" class="form-label"> Room Name </label>
                      <input type="text" class="form-control" id="input-roomname" required >
                      <div class="invalid-feedback">
                        Please Enter Room Name.
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6 mb-3">
                      <label for="room-number" class="form-label"> Room Number </label>
                      <input type="text" class="form-control" id="input-roomnumber" required>
                      <div class="invalid-feedback">
                        Please Enter Room Number.
                      </div>
                    </div>
                    <div class="col-md-6 mb-3">
                      <label for="room-name" class="form-label"> Floor </label>
                      <select class="form-select" style="margin-top: 7px;margin-bottom: 7px;padding-top: 9px;padding-bottom: 9px;" id="input-floor" required>
                        <option selected disabled value="">Select Floor...</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                      </select>
                      <div class="invalid-feedback">
                        Please select a floor.
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-12 mb-3">
                      <label for="room-macaddress" class="form-label"> Mac Address </label>
                      <input type="text" class="form-control" id="input-macaddress" required>
                      <div class="invalid-feedback">
                        Please Enter Mac Address.
                      </div>
                    </div>
                  </div>
                </div>
              </div>  
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit-addroom" class="btn btn-primary">Submit</button>
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Modal Delete Button -->
      <div class="modal fade" id="delete-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Delete Room</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form class="needs-validation" novalidate>
              <div class="modal-body">
                Do you want to delete this room?
              </div>  
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit-addroom" class="btn btn-danger">Delete</button>
              </div>
            </form>
          </div>
        </div>
      </div>

      <br>
      <div class="container col-md-3 border-center">
        <select class="form-select" aria-label="Default select example">
           <option selected>Time Menu</option>
           <option value="1">Day</option>
           <option value="2">Week</option>
           <option value="3">Month</option>
        </select>
      </div>
      <div class="text-center mt-3 ">
        <button type="submit" name="edit" class="btn btn-warning"><span class="btn-label"><i class="bi bi-music-player"></i></span>MP3</button>
        <button type="submit" name="delete" class="btn btn-danger"><span class="btn-label"><i class="bi bi-broadcast-pin"></i></span>LIVE</button>
        <button type="submit" name="delete" class="btn btn-secondary">SELECT</button>
    </div>   
    </main>
  </body>
</html>




<script src="/public/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.0.2/dist/chart.min.js"></script>
<script src="/public/js/jquery-3.5.1.js"></script>
<script src="/public/js/jquery.dataTables.min.js"></script>
<script src="/public/js/dataTables.bootstrap5.min.js"></script>
<script src="/public/js/script.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap-switch-button@1.1.0/dist/bootstrap-switch-button.min.js"></script>
<link href="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap-switch-button@1.1.0/css/bootstrap-switch-button.min.css" rel="stylesheet">

<script>
  var Feature = (function(){
      var dataTable = $('#table-room-id').DataTable({
        language : {emptyTable: "ไม่พบข้อมูล"},
        searching: false,
        ordering: false,
        lengthChange: false,
        paging: false,
        bAutoWidth: false,
      })
      return {
          init: function(){

          },
          onSubmitAddRoom:  function(){
            'use strict'

            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            var forms = document.querySelectorAll('.needs-validation')
          
            // Loop over them and prevent submission
            Array.prototype.slice.call(forms)
              .forEach(function (form) {
                form.addEventListener('submit', function (event) {
                  if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                  }
          
                  form.classList.add('was-validated')
                }, false)
              })
          },
      }
  })();

  jQuery(document).ready(function(){
      Feature.onSubmitAddRoom();
  });


  function clickApiOn() {
    document.getElementById('switch-trigger').switchButton('on');
  }
  function clickApiOff() {
    document.getElementById('switch-trigger').switchButton('off');
  }
  

</script>

